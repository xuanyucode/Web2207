<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>匿名函数调用</title>
	</head>
	<body>
		<button id="btn1">按钮1</button><span id="cont1"></span>
		<hr>
		<button id="btn2">按钮2</button><span id="cont2"></span>
		<hr>
		<button id="btn3">按钮3</button><span id="cont3"></span>
		<script>
			//解决全局污染：匿名函数自调用
			;(function(){
				var a=1
				btn1.onclick=function(){
					cont1.innerHTML=++a
				}
			}
			)()
			
			;(function(){
				var a=2
				btn2.onclick=function(){
					cont2.innerHTML=++a
				}
			}
			)()
			
			;(function(){
				var a=4
				btn3.onclick=function(){
					cont3.innerHTML=++a
				}
			}
			)()
			
			
			/* */
			var a=1
			// 为了防止和上一行代码连接到一起执行，在匿名函数自调用前结束一行
			;(function fn(){
				// fn属于局部变量，只能内部访问到
				console.log(fn)
			})()
		</script>
	</body>
</html>